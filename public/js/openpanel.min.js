/*!
=====================================

OpenPanel by SONHLAB.com - version 2.1
website: http://sonhlab.com
Documentation: http://docs.sonhlab.com/openpanel-responsive-panel-anywhere/

build - 0006
=====================================
*/

(function(e){var t=function(t,n){function m(t){var n;var r={};e("#op-station").find("#"+t).css({height:"auto"});e("#op-station").find(".op-panel").each(function(){var t=parseInt(e(this).css("z-index"),10);if(t>f){f=t}});f=f+1;n=e("#op-station").find("#"+t).height();if(a>n){n=a}r["height"]=n+"px";r["z-index"]=f;if(t!==undefined){e("#op-station").find("#"+t).css(r)}}function g(t,n,i,s){function o(n){var r={};e("#"+t).attr("data-open",c);h=c-1;c++;e("#op-station").find('.op-panel[data-open="'+h+'"]').css({position:"fixed"});if(n=="left"){r["left"]="-"+e(window).width()+"px";r["top"]="0px";r["display"]="block";e("#"+t).css(r);e("#"+t).animate({left:"0px"},400,"swing",function(){e("#op-loadingholder").css({display:"none"});e("#op-station").find('.op-panel[data-open="'+h+'"]').css({display:"none",position:"absolute"});if(c==2){l=e("html").scrollTop()+e("body").scrollTop();e("body").css({position:"fixed",top:"-"+l+"px"})}e("body").css({overflow:"hidden"})})}else if(n=="right"){r["left"]=e(window).width()+"px";r["top"]="0px";r["display"]="block";e("#"+t).css(r);e("#"+t).animate({left:"0px"},400,"swing",function(){e("#op-loadingholder").css({display:"none"});e("#op-station").find('.op-panel[data-open="'+h+'"]').css({display:"none",position:"absolute"});if(c==2){l=e("html").scrollTop()+e("body").scrollTop();e("body").css({position:"fixed",top:"-"+l+"px"})}e("body").css({overflow:"hidden"})})}else if(n=="bottom"){r["top"]=e(window).height()+"px";r["display"]="block";e("#"+t).css(r);e("#"+t).animate({top:"0px"},400,"swing",function(){e("#op-loadingholder").css({display:"none"});e("#op-station").find('.op-panel[data-open="'+h+'"]').css({display:"none",position:"absolute"});if(c==2){l=e("html").scrollTop()+e("body").scrollTop();e("body").css({position:"fixed",top:"-"+l+"px"})}e("body").css({overflow:"hidden"})})}else if(n=="top"){r["top"]="-"+e(window).height()+"px";r["display"]="block";e("#"+t).css(r);e("#"+t).animate({top:"0px"},400,"swing",function(){e("#op-loadingholder").css({display:"none"});e("#op-station").find('.op-panel[data-open="'+h+'"]').css({display:"none",position:"absolute"});if(c==2){l=e("html").scrollTop()+e("body").scrollTop();e("body").css({position:"fixed",top:"-"+l+"px"})}e("body").css({overflow:"hidden"})})}else{r["top"]="-2000px";r["display"]="none";e("#"+t).css(r);e("#"+t).animate({top:"0px"},100,function(){e("#"+t).fadeIn(400,function(){e("#op-loadingholder").css({display:"none"});e("#op-station").find('.op-panel[data-open="'+h+'"]').css({display:"none",position:"absolute"});if(c==2){l=e("html").scrollTop()+e("body").scrollTop();e("body").css({position:"fixed",top:"-"+l+"px"})}e("body").css({overflow:"hidden"})})})}}if(!n){n="none"}if(!e("#op-station").find("#op-loadingholder").length){e("#op-station").append("<div id='op-loadingholder'><div id='op-loadingicon'></div></div>")}e("#op-loadingholder").css({display:"block","z-index":f});if(!e("#"+t).length){if(s=="dynamic"){d="content/openpanel/ajaxstation."+i;v="panelid="+t}else{d="content/openpanel/"+t+"."+i;v=""}e.ajax({url:d,type:"POST",data:v,cache:false,success:function(u){if(u){e("#op-station").append(u);if(e("#op-station").find("#"+t).length>0){e("#op-station").css({display:"block"});m(t);o(n);e("#"+t).find(".op-tab").on("click",function(){t=e(this).attr("data-panelid");n=e(this).attr("data-pos");i=e(this).attr("data-ext");if(i===undefined){i=r.ext;s="dynamic"}else{s="static"}g(t,n,i.$ajaxtype)});e("#"+t).find(".op-bt-close").on("click",function(){p=e(this).attr("data-close");y(p)});e("#"+t).find(".op-bt-closeall").on("click",function(){b()})}}},error:function(t){alert("Loading Error: Please check the Panel ID or your Server config.");e("#op-loadingholder").css({display:"none"})}})}else{e("#op-station").css({display:"block"});m(t);o(n)}}function y(t){c--;if(h>0){e("#op-station").find('.op-panel[data-open="'+h+'"]').css({display:"block"})}h--;if(c==1){e("body").css({position:"relative",top:0});e("html").scrollTop(l);e("body").scrollTop(l)}e("#"+t).fadeOut(400,function(){e(this).attr("data-open",0);if(e("#op-station").find(".op-panel:visible").length==0){e("#op-station").css({display:"none"});e("body").css({overflow:"auto"})}})}function b(){e("body").css({position:"relative",top:0});e("html").scrollTop(l);e("body").scrollTop(l);e(".op-panel").css({display:"none"});e("#op-station").css({display:"none"});e("body").css({overflow:"auto"});e("#op-station").find(".op-panel").attr("data-open",0);c=1}function w(e,t){var n,t=t||200;return function(){var r=this,i=arguments;clearTimeout(n);n=setTimeout(function(){e.apply(r,Array.prototype.slice.call(i))},t)}}var r=e.extend({},e.fn.openpanel.defaults,n);var i;var s;var o;var u;var a=e(window).height();var f=0;var l;var c=1;var h=0;var p;var d;var v;if(!e("#op-station").length){e("body").append("<div id='op-station'></div>")}e("#op-station").css({height:a+"px"});e("#op-station").find(".op-panel").attr("data-open",0);e("#op-station").mousewheel(function(e,t){e.preventDefault();this.scrollTop-=t*30});e(".op-tab").on("click",function(){i=e(this).attr("data-panelid");s=e(this).attr("data-pos");o=e(this).attr("data-ext");if(o===undefined){o=r.ext;u="dynamic"}else{u="static"}g(i,s,o,u)});e("#op-station").find(".op-bt-close").on("click",function(){p=e(this).attr("data-close");y(p)});e("#op-station").find(".op-bt-closeall").on("click",function(){b()});if(r.enableKeys==true){e(document).keydown(function(e){if(e.keyCode==27){b();return false}})}if(r.autoPanel!==undefined){i=r.autoPanel;o=r.ext;u="dynamic";g(i,s,o,u)}e(window).resize(w(function(){var t;a=e(window).height();e("#op-station").css({height:a+"px"});e("#op-station").find('.op-panel[data-open!="0"]').css({height:"auto"});var n=e("#op-station").find('.op-panel[data-open!="0"]').length;for(var r=0;r<n;r++){t=e("#op-station").find('.op-panel[data-open!="0"]').eq(r).height();if(a>t){t=a}e("#op-station").find('.op-panel[data-open!="0"]').eq(r).css({height:t+"px"})}}))};e.fn.openpanel=function(n){return this.each(function(r,i){if(e(this).data("openpanel"))return e(this).data("openpanel");var s=new t(this,n);e(this).data("openpanel",s)})};e.fn.openpanel.defaults={ext:"php",enableKeys:false}})(jQuery)